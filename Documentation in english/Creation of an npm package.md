# Package Creation

## Description

Documentation on how to modify the `package.json` and `vite.config.js` files, and on how to create the `index.js` file.

## index.js

Create an `index.js` file inside the `./src` folder. Here, we will export the files we need from the package.

```js
    import FileName from './FileName'; // Import the file

    export { FileName } // Export the file to be used with the package
```

## package.json

The package.json file needs to include new keys.

```json
   {
    // The main file for CommonJS (CJS), used by modules that require CommonJS
    "main": "dist/project-name.cjs.js",

    // The file that contains the CSS for the project, used for style management
    "style": "dist/project-name.css",

    // The file that contains the ES Module (ESM), used by modules that require ES Modules
    "module": "dist/project-name.esm.js",

    // Definition of how the library should be imported
    "exports": {
        ".": {
        // When the package is imported in ES mode (static import), it refers to the ESM file
        "import": "./dist/project-name.esm.js",

        // When the package is imported in CommonJS mode (require), it refers to the CJS file
        "require": "./dist/project-name.cjs.js"
        }
    },

    // Specifies which files and folders should be included in the package when published
    "files": [
        // Include the 'dist' folder which contains the output files generated by the build
        "dist",
        // Include the README.md file for the documentation of the package
        "README.md"
    ],

    // The author of the package (currently empty, but can be filled with the author's name)
    "author": "",

    // The license of the package (to be filled with the license type, for example MIT)
    "license": "",

    // A brief description of the package
    "description": ""
}
```

## vite.config.js

The vite.config.js file needs to include the configurations for building the package.

```js
    build: {
      lib: {
      entry: './src/index.js', // File di ingresso per la libreria
      name: 'nome-libreria', // Nome della libreria
      fileName: (format) => `nome-libreria.${format}.js`, // Creazione file di outpout
      formats: ['esm', 'cjs'] // Formati file di output
      },
      rollupOptions: {
      external: ['react', 'react-dom', 'thecore-auth'], // Dipendenze non incluse nel bundle finale
      output: {
          globals: {
              // Oggetti globali per le librerie esterne
              react: 'React',
              'react-dom': 'ReactDOM',
              'thecore-auth': 'thecore-auth'
          }
      }
    }
  }
```